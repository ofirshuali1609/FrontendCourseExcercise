<h2>Book a Flight</h2>

<!-- Flight Details Card -->
<mat-card class="example-card" appearance="outlined">
    <mat-card-content>
        <div class="flight-details">
            <div class="detail-item">
                <label>Origin:</label>
                <span>{{flight?.origin}}</span>
            </div>
            <div class="detail-item">
                <label>Boarding:</label>
                <span>{{flight?.boradingDate}}</span>
            </div>
            <div class="detail-item">
                <label>Destination:</label>
                <span>{{flight?.destination}}</span>
            </div>
            <div class="detail-item">
                <label>Landing:</label>
                <span>{{flight?.arrivalDate}}</span>
            </div>
        </div>
    </mat-card-content>
</mat-card>

<!-- Number of Passengers and Personal Information -->
<mat-card class="example-card" appearance="outlined">
    <mat-card-content>
        <form (ngSubmit)="onSubmit()">
            <!-- Number of Passengers -->
            <mat-form-field appearance="fill">
                <mat-label>No of passengers:</mat-label>
                <input matInput type="number" [(ngModel)]="numPassengers" name="numPassengers" (ngModelChange)="generatePassengerFields()" required>
            </mat-form-field>

            <!-- Dynamic Passenger Details -->
            <div *ngFor="let passenger of passengers; let i = index">
                <div class="passenger-details">
                    <h3>Passenger {{i + 1}}</h3>

                    <mat-form-field appearance="fill">
                        <mat-label>Name:</mat-label>
                        <input matInput [(ngModel)]="newBooking.passengers[i].name" name="name{{i}}" required>
                    </mat-form-field>

                    <mat-form-field appearance="fill">
                        <mat-label>Passport ID:</mat-label>
                        <input matInput type="number" [(ngModel)]="newBooking.passengers[i].passport" name="passport{{i}}" required>
                      </mat-form-field>
                      
                      <mat-form-field appearance="fill">
                        <mat-label>Baggages:</mat-label>
                        <input matInput type="number" [(ngModel)]="newBooking.passengers[i].baggages" name="baggages{{i}}" required>
                      </mat-form-field>
                </div>
            </div>

            <!-- Save Button -->
            <button mat-raised-button color="primary" type="submit">Save</button>
        </form>
    </mat-card-content>
</mat-card>
